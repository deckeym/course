<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
    <script defer src="{{ url_for('static', filename='js/theme-toggle.js') }}"></script>
    <script>
        function validateForm(event) {
            let username = document.getElementById("username").value.trim();
            let password = document.getElementById("password").value.trim();
            if (username === "" || password === "") {
                alert("–û—à–∏–±–∫–∞: –ø–æ–ª—è –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏ –∏–ª–∏ —Å–æ—Å—Ç–æ—è—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑ –ø—Ä–æ–±–µ–ª–æ–≤!");
                event.preventDefault();
            }
        }
    </script>
</head>
<body>

<div class="theme-toggle">
    <button id="toggle-theme">üåô</button>
</div>

<div class="login-page">
    <header class="topbar">
        <a href="{{ url_for('index') }}" class="back-link">‚Üê –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</a>
    </header>

    <main class="login-shell">
        <section class="login-card">
            <div class="login-header">
                <p class="eyebrow">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</p>
                <h1>–í—Ö–æ–¥ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
                <p class="subtitle">
                    –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–ø–æ—Ç–æ–∫–∞ –∏ –≤–ª–∏—è–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ ‚Äî
                    –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
                </p>
            </div>

            {% with messages = get_flashed_messages(with_categories=true, category_filter=['auth_success','auth_warning','auth_info','auth_danger']) %}
              {% if messages %}
                <div class="flash-messages">
                  {% for category, message in messages %}
                    <div class="flash {{ category }}">{{ message }}</div>
                  {% endfor %}
                </div>
              {% endif %}
            {% endwith %}

            <form method="POST" onsubmit="validateForm(event)" autocomplete="on" class="login-form">
                <label for="username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                <div class="field-wrapper">
                    <input type="text"
                           id="username"
                           name="username"
                           required
                           minlength="3"
                           pattern="\S+"
                           autocomplete="username"
                           spellcheck="false"
                           title="–õ–æ–≥–∏–Ω –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –º–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞"
                           value="{{ request.form.get('username','') }}">
                </div>

                <label for="password">–ü–∞—Ä–æ–ª—å</label>
                <div class="field-wrapper">
                    <input type="password"
                           id="password"
                           name="password"
                           required
                           minlength="8"
                           pattern="\S+"
                           autocomplete="current-password"
                           title="–ü–∞—Ä–æ–ª—å –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤">
                </div>

                <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏</button>
            </form>
        </section>
    </main>
</div>

</body>
</html>
